# Authenticator - JWT

<!-- status autogenerated section -->
| Status                   |           |
| ------------------------ |-----------|
| Stability                | [beta]   |
| Distributions            | [contrib] |

[beta]: https://github.com/open-telemetry/opentelemetry-collector#beta
[contrib]: https://github.com/open-telemetry/opentelemetry-collector-releases/tree/main/distributions/otelcol-contrib
<!-- end autogenerated section -->

This extension implements a `configauth.ServerAuthenticator`, to be used in receivers inside the `auth` settings. The authenticator type has to be set to `jwt`.
The incoming request is expected to have a `Authorization` header, with a value of `Bearer <token>`. The token is then validated using the configured `secret` setting.
Currently, only HS256 is supported and we enrich the client context field `Auth` with the claims from the token. You can use this information in a processor like [`attributesprocessor`](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/attributesprocessor) to filter or enrich the data.

All claims can be accessed on the `Auth` data with the dot notation, e.g. `GetAttribute("jwtClaims.iss")`. Only one level of nesting is supported.
Claims with multiple value like `aud` can be accessed with `GetAttribute("audience")`.

## Configuration

```yaml
extensions:
  jwt:
    secret: "secret"

receivers:
  otlp:
    protocols:
      grpc:
        auth:
          authenticator: jwt

processors:

exporters:
  logging:
    logLevel: debug

service:
  extensions: [jwt]
  pipelines:
    traces:
      receivers: [otlp]
      processors: []
      exporters: [logging]
```
