name: apachesparkreceiver

status:
  type: receiver
  stability: development
  pipelines: [metrics]

attributes:
  application_id:
    description: The id of the application that the metric comes from
    type: string

metrics:
  spark.memory_used:
    description: Amount of memory used by spark
    enabled: true
    sum:
      aggregation: cumulative
      monotonic: false
      value_type: int
    unit: Mb
    attributes: [] # TODO: confirm what level this metric collects from (eg. app level, cluster level)
  spark.stage.executor_run_time:
    description: Amount of time spent by the executor in this stage.
    enabled: true
    sum:
      aggregation: cumulative
      monotonic: true
      value_type: int
    unit: ms
    attributes: [application_id]
  spark.executor.memory_used:
    description: Storage memory used by this executor.
    enabled: true
    sum:
      aggregation: cumulative
      monotonic: false
      value_type: int
    unit: bytes
    attributes: [application_id]
  spark.job.active_tasks:
    description: Number of active tasks in this job.
    enabled: true
    sum:
      aggregation: cumulative
      monotonic: false
      value_type: string
    unit: "{tasks}"
    attributes: [application_id]
